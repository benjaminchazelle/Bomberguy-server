(function(e){function t(t){for(var o,r,s=t[0],l=t[1],c=t[2],d=0,p=[];d<s.length;d++)r=s[d],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&p.push(a[r][0]),a[r]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);u&&u(t);while(p.length)p.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],o=!0,s=1;s<n.length;s++){var l=n[s];0!==a[l]&&(o=!1)}o&&(i.splice(t--,1),e=r(r.s=n[0]))}return e}var o={},a={app:0},i=[];function r(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=o,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var o=n("64a9"),a=n.n(o);a.a},"2a6f":function(e,t,n){"use strict";var o=n("4f5f"),a=n.n(o);a.a},"2cfb":function(e,t,n){"use strict";var o=n("adf0"),a=n.n(o);a.a},"4f5f":function(e,t,n){},5086:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var o=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(e.appState,{tag:"div",attrs:{id:"app"}})},i=[],r=(n("7f7f"),function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)}),s=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("Bomber Guy !")]),n("h5",[e._v("by "),n("a",{attrs:{target:"_blank",href:"https://www.chazelle.pro/en"}},[e._v("Benjamin Chazelle")])])])}],l={name:"splash-screen",mounted:function(){var e=this;setTimeout((function(){e.displayMenu()}),2e3)},inject:["displayMenu"]},c=l,u=(n("6287"),n("2877")),d=Object(u["a"])(c,r,s,!1,null,"187b0574",null),p=d.exports,f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hello"},[n("h1",[e._v("Menu")]),n("h3",[e._v("Enter your pseudo")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.pseudo,expression:"pseudo"}],attrs:{title:"",type:"text"},domProps:{value:e.pseudo},on:{input:function(t){t.target.composing||(e.pseudo=t.target.value)}}}),n("button",{on:{click:function(t){return e.joinGame(null)}}},[e._v("Play")]),n("div",{staticClass:"divider"}),e._l(e.games,(function(t,o){return n("div",{key:o},[n("p",[n("b",[e._v("Game #"+e._s(o))])]),n("p",[e._v("Player"),t.players.length>1?n("span",[e._v("s")]):e._e(),e._v(":\n            "+e._s(t.players.join(", "))+"\n        ")]),n("p",[t.hasStarted?n("i",[e._v("This game has already started")]):n("i",[e._v("This game has not yet started")])]),n("p",[n("button",{on:{click:function(t){return e.joinGame(o)}}},[e._v("Join")])]),n("div",{staticClass:"divider"})])}))],2)},m=[];function v(){var e=["Great","Bad","Best","New","First","Nice","Hot","Cold","High","Low","Big","Sharp","Happy","Enthusiastic","Empowered","Playful","Lucky","Amazed","Strong","Clever","Mysterious","Gold","Black","Silver"],t=["Monkey","Carp","Parrot","Cow","Scorpion","Tiger","Worm","Bear","Fox","Cat","Lion","Koala","Panda","Ara","Wolf","Bird","Lizard","Bat"];return e[Math.floor(Math.random()*e.length)]+t[Math.floor(Math.random()*t.length)]}var h={name:"game-menu",props:{},data:function(){return{pseudo:v(),games:{}}},inject:["displayBoard"],sockets:{games:function(e){this.games=e}},mounted:function(){this.$socket.emit("getGames")},methods:{joinGame:function(e){this.$socket.emit("joinGame",{gameId:e,pseudo:this.pseudo}),this.displayBoard()}}},y=h,w=(n("b46d"),Object(u["a"])(y,f,m,!1,null,"694c0423",null)),b=w.exports,_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wrap"},[n("p",[n("button",{on:{click:e.back}},[e._v("< Back")])]),e.hasStarted?n("div",{staticClass:"players"},e._l(e.players,(function(t,o){return n("div",{key:o},[n("div",[n("PlayerIcon",{attrs:{player:t}}),n("b",[e._v(e._s(t.pseudo))])],1),n("div",[e._v("\n                ‚ù§Ô∏è"+e._s(t.life)+"\n                üí£"+e._s(t.bombStock)+"\n            ")])])})),0):e._e(),e.hasStarted?n("div",{staticClass:"cells",style:e.styleObject},[e._l(e.map.cells,(function(t,o){return n("GameCell",{key:o,attrs:{size:e.cellSize,"map-width":e.map.width,index:o,cell:t}})})),e._l(e.players,(function(t,o){return n("GamePlayer",{key:o,attrs:{size:e.cellSize,player:t}})}))],2):e._e(),e.hasStarted||null!==e.countdown?e._e():n("div",[n("h2",[e._v("Waiting for other players")])]),e.hasStarted||null===e.countdown?e._e():n("div",[n("h2",[e._v("Game will start")]),n("h1",[e._v(e._s(e.countdown))])]),e.hasStarted?n("div",[n("table",[n("tr",[n("td"),n("td",[n("button",{staticStyle:{transform:"rotate(90deg)"},on:{mousedown:function(t){e.handleKeydown({defaultPrevented:!1,code:"ArrowUp",preventDefault:function(){}})},mouseup:function(t){e.handleKeyup({defaultPrevented:!1,code:"ArrowUp",preventDefault:function(){}})}}},[e._v("<\n                    ")])]),n("td")]),n("tr",[n("td",[n("button",{on:{mousedown:function(t){e.handleKeydown({defaultPrevented:!1,code:"ArrowLeft",preventDefault:function(){}})},mouseup:function(t){e.handleKeyup({defaultPrevented:!1,code:"ArrowLeft",preventDefault:function(){}})}}},[e._v("<\n                    ")])]),n("td",[n("button",{staticStyle:{background:"white",color:"unset"},on:{mousedown:function(t){e.handleKeydown({defaultPrevented:!1,code:"Space",preventDefault:function(){}})},mouseup:function(t){e.handleKeyup({defaultPrevented:!1,code:"Space",preventDefault:function(){}})}}},[e._v("üí£\n                    ")])]),n("td",[n("button",{on:{mousedown:function(t){e.handleKeydown({defaultPrevented:!1,code:"ArrowRight",preventDefault:function(){}})},mouseup:function(t){e.handleKeyup({defaultPrevented:!1,code:"ArrowRight",preventDefault:function(){}})}}},[e._v(">\n                    ")])])]),n("tr",[n("td"),n("td",[n("button",{staticStyle:{transform:"rotate(90deg)"},on:{mousedown:function(t){e.handleKeydown({defaultPrevented:!1,code:"ArrowDown",preventDefault:function(){}})},mouseup:function(t){e.handleKeyup({defaultPrevented:!1,code:"ArrowDown",preventDefault:function(){}})}}},[e._v(">\n                    ")])]),n("td")])])]):e._e()])},g=[],x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{style:e.styleObject},["R"===e.cell?n("span",[e._v("üî≥")]):e._e(),"W"===e.cell?n("span",[e._v("üöß")]):e._e(),"#"===e.cell?n("span",[e._v("üì¶")]):e._e(),"object"===typeof e.cell&&"B"===e.cell[0]?n("span",[e._v("üí£")]):e._e(),"object"===typeof e.cell&&"F"===e.cell[0]?n("span",[e._v("üî•")]):e._e()])},S=[],j=(n("c5f6"),{name:"game-cell",props:{index:{type:Number,required:!0},mapWidth:{type:Number,required:!0},cell:{type:[String,Object],required:!0},size:{type:Number,default:10}},data:function(){return{gameId:42,stamina:null,explosionIntensity:null,map:[],movingDirection:"moveDown"}},computed:{styleObject:function(){var e=this.index%this.mapWidth,t=(this.index-e)/this.mapWidth;return{top:this.size*t+"px",left:this.size*e+"px",width:this.size+"px",height:this.size+"px",lineHeight:this.size+"px",textAlign:"center"}}},methods:{}}),k=j,P=(n("b116"),Object(u["a"])(k,x,S,!1,null,"44bdf1a1",null)),O=P.exports,D=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.player.life>0?n("div",{style:e.styleObject},[n("PlayerIcon",{attrs:{player:e.player}})],1):e._e()},z=[],M=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[0===e.player.index?n("span",[e._v("üêµ")]):e._e(),1===e.player.index?n("span",[e._v("üêº")]):e._e(),2===e.player.index?n("span",[e._v("üê®")]):e._e(),3===e.player.index?n("span",[e._v("üêπ")]):e._e()])},B=[],E={name:"player-icon",props:{player:{type:Object,required:!0}}},G=E,K=(n("a9ca"),Object(u["a"])(G,M,B,!1,null,"adfcaabe",null)),$=K.exports,A={name:"game-player",components:{PlayerIcon:$},props:{player:{type:Object,required:!0},size:{type:Number,default:10}},data:function(){return{gameId:42,stamina:null,explosionIntensity:null,map:[],movingDirection:"moveDown"}},computed:{styleObject:function(){return{top:this.size*this.player.position.y+"px",left:this.size*this.player.position.x+"px",width:this.size+"px",height:this.size+"px"}}}},C=A,L=(n("2a6f"),Object(u["a"])(C,D,z,!1,null,"1ef75630",null)),I=L.exports,T={ArrowUp:{action:"moveUp",type:"move"},ArrowDown:{action:"moveDown",type:"move"},ArrowLeft:{action:"moveLeft",type:"move"},ArrowRight:{action:"moveRight",type:"move"},Space:{action:"bomb",type:"bomb"},Enter:{action:"bomb",type:"bomb"}},q={name:"game-board",components:{PlayerIcon:$,GameCell:O,GamePlayer:I},props:{},inject:["displayMenu"],data:function(){return{gameId:42,players:{},map:{},movingDirection:"moveDown",cellSize:20,hasStarted:!1,countdown:null}},computed:{styleObject:function(){var e=document.querySelector(".cells");if(null!==e){e.style.transform="unset",e.style.overflow="hidden";var t=e.offsetHeight/e.scrollHeight;e.style.transform="scale("+t+")",e.style.overflow="unset"}return{width:this.cellSize*this.map.width+"px"}}},methods:{back:function(){this.$socket.emit("quitGame"),this.displayMenu()},handleKeydown:function(e){e.defaultPrevented||e.code in T&&(this.$socket.emit(T[e.code].action),"move"===T[e.code].type&&(this.movingDirection=T[e.code].action),e.preventDefault())},handleKeyup:function(e){e.defaultPrevented||e.code in T&&(this.movingDirection===T[e.code].action?this.$socket.emit("stopMoving"):"bomb"===T[e.code].type&&this.$socket.emit("stopBombing"),e.preventDefault())}},sockets:{refresh:function(e){this.hasStarted=!0,this.players=e.players,this.map=e.map},countdown:function(e){this.countdown=e}},mounted:function(){window.addEventListener("keyup",this.handleKeyup,!1),window.addEventListener("keydown",this.handleKeydown,!1)},destroyed:function(){window.removeEventListener("keyup",this.handleKeyup,!1),window.removeEventListener("keydown",this.handleKeydown,!1)}},N=q,W=(n("2cfb"),Object(u["a"])(N,_,g,!1,null,"c00bb30c",null)),H=W.exports,R={name:"app",components:{SplashScreen:p,GameMenu:b,GameBoard:H},data:function(){return{appState:p.name}},methods:{displayMenu:function(){this.appState=b.name},displayBoard:function(){this.appState=H.name}},provide:function(){return{displayMenu:this.displayMenu,displayBoard:this.displayBoard}}},U=R,F=(n("034f"),Object(u["a"])(U,a,i,!1,null,null,null)),J=F.exports,Q=n("5132"),V=n.n(Q);o["a"].use(new V.a({debug:!0,connection:window.location.protocol+("8080"===window.location.port?"//"+window.location.hostname+":9000":"//"+window.location.host),options:{path:"/socket"}})),o["a"].config.productionTip=!1,new o["a"]({sockets:{connect:function(){console.log("Socket connected")},customEmitToClient:function(e){console.log("Received message from server",e)}},render:function(e){return e(J)},created:function(){this.$socket.emit("customEmitToServer",Date.now())}}).$mount("#app")},"5d48":function(e,t,n){},6287:function(e,t,n){"use strict";var o=n("5086"),a=n.n(o);a.a},"64a9":function(e,t,n){},"9fc2":function(e,t,n){},a9ca:function(e,t,n){"use strict";var o=n("5d48"),a=n.n(o);a.a},acbf:function(e,t,n){},adf0:function(e,t,n){},b116:function(e,t,n){"use strict";var o=n("acbf"),a=n.n(o);a.a},b46d:function(e,t,n){"use strict";var o=n("9fc2"),a=n.n(o);a.a}});
//# sourceMappingURL=app.a9f29172.js.map